
<div class="issuescontainer" >
    <div style='clear:both' />
    <h1>{{ lastupdate | date : "HH:mm:ss"}} | Majordodo</h1>
    <div style='clear:both' />
    <div class="spetoolbar">
        <button ng-click="go('/home')" >Home</<button>
        <button ng-click="go('/search')" >Search</<button>                       
        <button ng-click="go('/slots')" >Slots</<button> 
        <button ng-click="go('/resources')" >Resources</<button>
        <button ng-click="go('/task')" >Search Task</<button>
        <button ng-click="go('/worker')" >Search Worker</<button>                               
    </div>
    <div class="controls" >        
        URL <input ng-model="brokerUrl" value='' ">
        WorkerID <input ng-model="filterWorkerId" value='' ng-change="refreshPage()">
        Status <select ng-model="filterStatus" ng-change="refreshPage()">
            <option value=''></option>
            <option value='waiting'>waiting</option>
            <option value='running'>running</option>
            <option value='finished'>finished</option>
            <option value='error'>error</option>
        </select>
        UserID <input ng-model="filterUserId" value='' ng-change="refreshPage()">
        Tasktype <input ng-model="filterTasktype" value='' ng-change="refreshPage()">
        Slot <input ng-model="filterSlot" value='' ng-change="refreshPage()">
        Max <input ng-model="max" value='' ng-change="refreshPage()">        
        <button ng-click="refreshPage()" >Refresh</button> 
    </div>    
    <div class="deliverydetailcontainer" ng-show="lastCount > 0" >            
            <h3>Tasks search</h3>
            Showing {{lastCount}} tasks
    </div>
    <div class='deliverydetailcontainer'>
        <table cellpadding="0" cellspacing="0" border="0" class="deliverydetail"  >
            <thead>
                <tr>
                    <th class="issuedetail-head">ID</th>   
                    <th class="issuedetail-head">UserId</th>
                    <th class="issuedetail-head">Tasktype</th>
                    <th class="issuedetail-head">WorkerId</th>
                    <th class="issuedetail-head">Status</th>                                
                    <th class="issuedetail-head">Slot</th>                                
                </tr>
            </thead>
            <tbody>
                <tr class="issuelist " ng-repeat="task in tasks" >

                    <td class="issuedetail-shortstring">
                        <a ng-click="showTask(task.taskId)">{{task.taskId}}</a>
                    </td>
                    <td class="issuedetail-shortstring">
                        {{task.userId}}
                    </td>
                    <td class="issuedetail-shortstring">
                        {{task.tasktype}}
                    </td>
                    <td class="issuedetail-shortstring">
                        {{task.workerId}}
                    </td>
                    <td class="issuedetail-shortstring">
                        {{task.status}}
                    </td>
                    <td class="issuedetail-shortstring">
                        {{task.slot}}
                    </td>
                    
                </tr>                  
            </tbody>
        </table>
    </div>
</div>